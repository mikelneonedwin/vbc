var readFileSync=require("fs").readFileSync,writeFileSync=require("fs").writeFileSync,parse=require("jsonc-parser").parse;function getJSON(e,r){try{var n=readFileSync(e,"utf-8");return parse(n)}catch{return r}}function saveJSON(e,r){return writeFileSync(e,JSON.stringify(r),"utf-8")}var source=getJSON("info.json");{var taskPath=process.env.appdata+"\\Code\\User\\tasks.json";console.log(taskPath);var tasks=getJSON(taskPath,{});tasks.tasks||(tasks.tasks=[]),tasks.version||(tasks.version="2.0.0");var hasTask=!1;if(tasks.tasks.length){var vbcTask=tasks.tasks.find(function(e){return e.label==="VBC"});hasTask=tasks.tasks.indexOf(vbcTask)}hasTask===!1&&(hasTask=tasks.tasks.length),tasks.tasks[hasTask]=source.task,saveJSON(taskPath,tasks),console.log("Modified VS Code Tasks successfully")}{var keyPath=process.env.appdata+"\\Code\\User\\keybindings.json",keys=getJSON(keyPath,[]),hasKey=!1;if(keys.length){var key=keys.find(function(e){return e.key=="f5"&&e.command=="workbench.action.tasks.runTask"&&typeof e.args=="object"&&e.args.task=="VBC"});hasKey=keys.indexOf(key)}hasKey===!1&&(hasKey=keys.length),keys[hasKey]=source.key,saveJSON(keyPath,keys),console.log("Modified VS Code Key bindings successfully")}
